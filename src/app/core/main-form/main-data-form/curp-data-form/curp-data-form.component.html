<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-2 h-full w-full">
    <!-- <span class="text-2xl font-bold text-center my-2">Calcular la CURP </span> -->
 <!-- <p-fluid> -->

     <div class="flex gap-1">
         <label class="flex flex-col items-start justify-start w-full">
             <span>Primer apellido: </span>
             <input class="w-full" type="text" formControlName="primerApellido" pInputText>
 
             @if (form.get('primerApellido')?.hasError('required') && (form.get('primerApellido')?.touched || form.get('primerApellido')?.dirty)) {
                 <p-message severity="error" variant="simple" size="small">El campo es requerido.</p-message>
             } 
 
             @if (form.get('primerApellido')?.hasError('primerApellido')) {
                 <p-message severity="error" variant="simple" size="small">
                     {{ form.get('primerApellido')?.getError('primerApellido')}}
                 </p-message>    
             }
         </label>        
         <label class="flex flex-col items-start justify-start w-full">
             <!-- NOT REQUIRED -->
             <span>Segundo apellido: </span>
             <input class="w-full" type="text" formControlName="segundoApellido" placeholder="(Opcional)" pInputText>        
 
             @if (form.get('segundoApellido')?.hasError('segundoApellido')) {
                 <p-message severity="error" variant="simple" size="small">
                     {{ form.get('segundoApellido')?.getError('segundoApellido')}}
                 </p-message>    
             }
         </label>        
     </div>    
            
     <div class="flex gap-1">
         <label class="flex flex-col items-start justify-start w-full">
             <span>Nombre(s): </span>
             <input type="text" class="w-full" formControlName="nombres" pInputText>
     
             @if (form.get('nombres')?.hasError('required') && (form.get('nombres')?.touched || form.get('nombres')?.dirty)) {
                 <p-message severity="error" variant="simple" size="small">El campo es requerido.</p-message>
             } 
     
             @if (form.get('nombres')?.hasError('nombres')) {
                 <p-message severity="error" variant="simple" size="small">
                     {{ form.get('nombres')?.getError('nombres')}}
                 </p-message>    
             }
         </label> 
         <label class="flex flex-col items-start justify-start w-full">
             <span class="mr-2">Fecha de nacimiento: </span>
             <p-datepicker placeholder="dd-mm-yyyy"  dateFormat="dd-mm-yy" [showIcon]="true" [iconDisplay]="'input'" formControlName="fechaNacimiento" fluid />
     
             @if (form.get('fechaNacimiento')?.hasError('required') && (form.get('fechaNacimiento')?.touched || form.get('fechaNacimiento')?.dirty)) {
                 <p-message severity="error" variant="simple" size="small">El campo es requerido.</p-message>
             }
         </label>
         
     </div>
     <div class="flex items-start justify-start gap-1">
         <label class="flex flex-col items-start justify-start flex-1">
             <span class="mr-2">Sexo: </span>
             <p-select [options]="gender" formControlName="sexo" optionLabel="name" placeholder="Selecciona una opciÃ³n" class="w-full"></p-select>            
     
             @if (form.get('sexo')?.hasError('required') && (form.get('sexo')?.touched || form.get('sexo')?.dirty)) {
                 <p-message severity="error" variant="simple" size="small">El campo es requerido.</p-message>
             }
         </label>    
         <label class="flex flex-col items-start justify-start flex-1">
             <span class="mr-2">Estado de nacimiento:</span>
             <p-autocomplete  [forceSelection]="true" [suggestions]="statesSuggestions" optionLabel="name" (completeMethod)="searchEntidad($event)" formControlName="claveEntidad" [style]="{ width: '100%' }" [inputStyle]="{ width: '100%'}"/>        
             @if (form.get('claveEntidad')?.hasError('required') && (form.get('claveEntidad')?.touched || form.get('claveEntidad')?.dirty)) {
                 <p-message severity="error" variant="simple" size="small">El campo es requerido.</p-message>
             }
         </label>
     </div>
     <div class="w-1/2 self-end flex items-center justify-end">

         <p-button icon="pi pi-search" iconPos="right"  label="Buscar" aria-label="Search" type="submit"/>
     </div>
 <!-- </p-fluid> -->
</form>
